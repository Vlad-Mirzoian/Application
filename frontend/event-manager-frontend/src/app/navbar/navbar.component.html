<nav
  class="bg-white shadow-sm h-16 fixed w-full top-0 border-b border-gray-200 z-50"
>
  <div class="container mx-auto px-6 h-16 flex justify-end items-center" #dropdownRef>
    <button
      class="md:hidden p-2 text-gray-700 hover:text-purple-600 transition-colors"
      (click)="toggleMenu()"
      aria-label="Toggle menu"
    >
      <svg
        class="w-6 h-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          *ngIf="!isMenuOpen"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"
        />
        <path
          *ngIf="isMenuOpen"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"
        />
      </svg>
    </button>

    <div
      class="md:flex md:items-center md:space-x-6 absolute md:static top-16 left-0 right-0 bg-white md:bg-transparent border-b md:border-0 border-gray-200 transition-all duration-300 ease-in-out"
      [ngClass]="{
        'flex flex-col': isMenuOpen,
        hidden: !isMenuOpen,
        'md:flex md:flex-row': true
      }"
    >
      <button
        (click)="toggleSidebar()"
        *ngIf="isAuthenticated$ | async"
        class="flex items-center text-gray-700 hover:text-purple-600 font-medium transition-colors py-3 px-4 md:px-0"
        aria-label="Toggle AI Sidebar"
      >
        <!-- Робот иконка -->
        <svg
          class="w-5 h-5 mr-1.5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 2a2 2 0 012 2v2a2 2 0 11-4 0V4a2 2 0 012-2zm6 8v6a6 6 0 01-12 0v-6h12zM9 14h6"
          />
        </svg>
        Assistant
      </button>
      <a
        routerLink="/events"
        routerLinkActive="text-purple-600 font-semibold"
        class="flex items-center text-gray-700 hover:text-purple-600 font-medium transition-colors py-3 px-4 md:px-0"
        (click)="closeMenu()"
      >
        <svg
          class="w-5 h-5 mr-1.5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
          />
        </svg>
        Events
      </a>

      <a
        *ngIf="isAuthenticated$ | async"
        routerLink="/me/events"
        routerLinkActive="text-purple-600 font-semibold"
        class="flex items-center text-gray-700 hover:text-purple-600 font-medium transition-colors py-3 px-4 md:px-0"
        (click)="closeMenu()"
      >
        <svg
          class="w-5 h-5 mr-1.5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
          />
        </svg>
        My Events
      </a>

      <a
        *ngIf="isAuthenticated$ | async"
        routerLink="/events/create"
        class="flex items-center text-white bg-purple-600 hover:bg-purple-700 font-medium rounded-lg px-2 py-2 mx-2 md:mx-0 my-2 md:my-0 transition-all duration-200 shadow-sm hover:shadow"
        (click)="closeMenu()"
      >
        <svg
          class="w-5 h-5 mr-1.5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 4v16m8-8H4"
          />
        </svg>
        Create Event
      </a>

      <div
        class="h-px w-full bg-gray-300 md:h-6 md:w-px mx-4 md:mx-0 mb-2 md:mb-0"
      ></div>

      <button
        *ngIf="isAuthenticated$ | async"
        (click)="logout()"
        class="flex items-center text-gray-700 hover:text-purple-600 font-medium transition-colors py-3 px-4 md:px-0"
        (click)="closeMenu()"
      >
        <svg
          class="w-5 h-5 mr-1.5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
          />
        </svg>
        Sign out
      </button>

      <a
        *ngIf="!(isAuthenticated$ | async)"
        routerLink="/auth/login"
        class="flex items-center text-purple-600 hover:text-purple-700 font-medium transition-colors py-3 px-4 md:px-0"
        (click)="closeMenu()"
      >
        <svg
          class="w-5 h-5 mr-1.5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"
          />
        </svg>
        Sign in
      </a>
    </div>
  </div>
</nav>

<div class="h-16"></div>
